<UserControl x:Class="BankingEcosystem.Atm.UI.Views.OnboardingView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:BankingEcosystem.Atm.UI.Views"
      mc:Ignorable="d" 
      d:DesignHeight="768" d:DesignWidth="1024"
      Focusable="True"
      KeyDown="OnKeyDown">
    


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Top Bar (Transparent background to match body) -->
        <Border Grid.Row="0" Padding="32,20" Background="Transparent">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Bank Logo / Name -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <!-- Gold circle logo placeholder -->
                    <Ellipse Width="40" Height="40" Fill="{StaticResource GoldBrush}" Margin="0,0,12,0" />
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Bank Ecosystem"
                                   FontSize="20" FontWeight="Bold"
                                   Foreground="{StaticResource WhiteBrush}"
                                   FontFamily="{StaticResource PrimaryFont}" />
                        <TextBlock Text="Simulasi ATM"
                                   FontSize="11" Foreground="#80FFFFFF"
                                   FontFamily="{StaticResource PrimaryFont}" />
                    </StackPanel>
                </StackPanel>

                <!-- Clock -->
                <TextBlock x:Name="ClockText" Grid.Column="1"
                           FontSize="16" Foreground="#B0FFFFFF"
                           VerticalAlignment="Center"
                           FontFamily="{StaticResource MonoFont}" />
            </Grid>
        </Border>

        <!-- Main Content Area (Empty / Clean) -->
        <Grid Grid.Row="1" />

        <!-- Bottom Actions (Hidden but functional via keyboard) -->
        <Grid Grid.Row="2" />
        
        <!-- Footer (Info Icon) -->
        <Border Grid.Row="3" Padding="32,24" Background="Transparent">
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Bottom">
                <Border Width="24" Height="24" CornerRadius="12"
                        BorderBrush="#808080" BorderThickness="1.5"
                        Cursor="Help"
                        ToolTipService.InitialShowDelay="0">
                    <TextBlock Text="i" 
                               FontSize="14" FontWeight="Bold" FontStyle="Italic"
                               Foreground="#808080"
                               HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontFamily="Segoe UI" />
                    
                    <Border.ToolTip>
                        <ToolTip Background="White" Foreground="{StaticResource NavyBrush}" 
                                 Padding="8,4" BorderBrush="{StaticResource NavyBrush}" BorderThickness="1">
                            <TextBlock Text="Press C to insert card or Enter for cardless" 
                                       FontSize="12" FontFamily="{StaticResource PrimaryFont}" />
                        </ToolTip>
                    </Border.ToolTip>

                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Opacity" Value="0.5" />
                            <Setter Property="Background" Value="Transparent" />
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Opacity" Value="1.0" />
                                    <Setter Property="Background" Value="#1AFFFFFF" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                </Border>
            </StackPanel>
        </Border>

        <!-- Simulated Card Entry Overlay -->
        <Grid x:Name="CardEntryOverlay" Grid.RowSpan="4" Background="#CC000000" Visibility="Collapsed">
            <Border Background="White" CornerRadius="8" Padding="30" HorizontalAlignment="Center" VerticalAlignment="Center" Width="400">
                <StackPanel>
                    <TextBlock Text="Simulasi Masukkan Kartu" FontSize="18" FontWeight="Bold" Foreground="{StaticResource NavyBrush}" Margin="0,0,0,15" HorizontalAlignment="Center"/>
                    
                    <TextBlock Text="Nomor Kartu (16 Digit)" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                    <TextBox x:Name="CardNumberInput" FontSize="16" Padding="10" Margin="0,0,0,20" BorderBrush="#ccc" BorderThickness="1" 
                             KeyDown="OnCardNumberKeyDown"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Content="Batal" Click="OnCancelCardEntry" Height="40" Margin="0,0,5,0" Background="#ddd" Foreground="#333" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Masukkan" Click="OnSubmitCardEntry" Height="40" Margin="5,0,0,0" Background="{StaticResource NavyBrush}" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </Grid>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>
